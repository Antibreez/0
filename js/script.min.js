!function(){const e=20;let t=document.querySelectorAll(".catalog__list li"),n=Math.ceil(t.length/e),i=document.querySelectorAll(".js-catalog-pagination-btn");function o(e){e.classList.add("is-open"),e.style.display=""}function s(n){let i=n*e-1,s=i-(e-1);for(let e=0;e<t.length;e++)e>s-1&&e<i+1?o(t[e]):((c=t[e]).classList.remove("is-open"),c.style.display="none");var c}function c(e){e.target.closest("button").disabled=!0;for(let e=0;e<=i.length;e++)i[e]&&i[e].disabled&&(i[e].disabled=!1)}function l(){window.matchMedia("(max-width: 767px)").matches?(s(1),function(){for(let e=0;e<=i.length;e++)e<n&&i[e]&&(i[e].style.display="block")}(),i[0].disabled=!0,function(){for(let e=0;e<i.length;e++)i[e].addEventListener("click",(function(t){s(e+1),c(t)}))}()):(function(){for(let e=0;e<t.length;e++)o(t[e])}(),function(){for(let e=0;e<=i.length;e++)i[e]&&(i[e].style.display="none")}())}t&&i&&(l(),window.addEventListener("resize",l))}(),function(){const e=document.querySelector(".checkout form");if(e){e.querySelectorAll(".input input"),e.querySelector("textarea")}const t=document.querySelector(".js-checkout-button"),n=document.querySelector(".confirmation");if(!(e&&inputList.length&&textarea&&t&&n))return;let i=!0,o=Array.from(inputList);o.push(textarea);const s=function(e,t){e.classList.contains(t)&&e.classList.remove(t)},c=function(e,t){e.classList.contains(t)||e.classList.add(t)},l=function(){let e=o.some((function(e){return e.classList.contains("invalid")||e.classList.contains("unchanged")}));i=!!e},r=function(){i?t.setAttribute("disabled","disabled"):t.removeAttribute("disabled")};o.forEach(e=>{e.classList.add("unchanged"),e.addEventListener("input",(function(){var t;s(e,"unchanged"),!(t=e).value.trim()||t.validity.patternMismatch||t.validity.typeMismatch?c(t,"invalid"):s(t,"invalid"),l(),r()}))}),t.addEventListener("click",(function(a){s(t,"hidden"),i?a.preventDefault():(a.preventDefault(),c(e,"hidden"),s(n,"hidden"),o.forEach(e=>{e.classList.add("unchanged")}),l(),r(),c(t,"hidden"))})),e.addEventListener("submit",(function(a){i?a.preventDefault():(a.preventDefault(),c(e,"hidden"),s(n,"hidden"),o.forEach(e=>{e.classList.add("unchanged")}),l(),r(),c(t,"hidden"))}))}(),function(){const e=document.querySelector(".header"),t=e.querySelector(".js-menu-toggler"),n=e.querySelectorAll(".js-menu-link"),i="header--menu-open",o=e.querySelector(".cart a"),s=e.querySelector(".header__logo a");if(e&&t&&n&&o&&s){t.addEventListener("click",(function(){e.classList.contains(i)?l():(e.classList.add(i),t.querySelector("span").textContent="Закрыть меню")}));for(let e=0;e<n.length;e++)n[e].addEventListener("click",l);c(),window.addEventListener("resize",c),l()}function c(){window.matchMedia("(max-width: 1023px)").matches?(s.tabIndex=2,o.tabIndex=3):(s.tabIndex=0,o.tabIndex=0)}function l(){e.classList.remove(i),t.querySelector("span").textContent="Открыть меню"}}(),function(){const e=document.querySelector("body"),t=document.querySelector(".popup-cart"),n=t.querySelector(".popup-cart__close"),i=t.querySelector(".popup-cart__to-catalog"),o=t.querySelector(".popup-cart__overlay");function s(){this._onCloseClick=this._onCloseClick.bind(this),this._onToCatalogClick=this._onToCatalogClick.bind(this),this._onOverlayClick=this._onOverlayClick.bind(this),this._onKeyDown=this._onKeyDown.bind(this)}s.prototype.open=function(){t.classList.remove("hidden"),e.classList.add("popup"),this._addEventListeners()},s.prototype._close=function(){t.classList.add("hidden"),e.classList.remove("popup"),this._removeEventListeners()},s.prototype._onCloseClick=function(){this._close()},s.prototype._onToCatalogClick=function(){this._close()},s.prototype._onOverlayClick=function(){this._close()},s.prototype._onKeyDown=function(e){return function(e){return"Esc"===e.key||"Escape"===e.key}(e)&&this._close()},s.prototype._addEventListeners=function(){n.addEventListener("click",this._onCloseClick),i.addEventListener("click",this._onToCatalogClick),o.addEventListener("click",this._onOverlayClick),document.addEventListener("keydown",this._onKeyDown)},s.prototype._removeEventListeners=function(){n.removeEventListener("click",this._onCloseClick),i.removeEventListener("click",this._onToCatalogClick),o.removeEventListener("click",this._onOverlayClick),document.removeEventListener("keydown",this._onKeyDown)},window.PopupCart=s}(),function(e){let t=o(),n=s(t,".popup-preview__slider"),i=s(t,".popup-fullview__slider");function o(){return document.body.clientWidth>767?"vertical":"horizontal"}function s(e,t){return new Swiper(t,{direction:e,loop:!0,mousewheel:{sensitivity:100},pagination:{el:".swiper-pagination",clickable:!0}})}window.addEventListener("resize",(function(){o()!==t&&(t=o(),n.destroy(!0,!0),n=s(t,".popup-preview__slider"),i.destroy(!0,!0),i=s(t,".popup-fullview__slider"))}));const c=document.querySelector("body"),l=document.querySelector(".popup-preview"),r=l.querySelector(".popup-preview__slider"),a=l.querySelector(".popup-fullview__slider"),d=l.querySelector(".popup-preview__info"),u=l.querySelector(".popup-preview__close"),p=l.querySelector(".popup-fullview__close"),v=l.querySelector(".popup-preview__to-cart");function h(e){e.classList.remove("hidden")}function _(e){e.classList.add("hidden")}function f(){this._onPreviewClick=this._onPreviewClick.bind(this),this._onFullviewClick=this._onFullviewClick.bind(this),this._onToCartClick=this._onToCartClick.bind(this),this._onClosePreviewClick=this._onClosePreviewClick.bind(this),this._onCloseFullviewClick=this._onCloseFullviewClick.bind(this),this._addEventListeners=this._addEventListeners.bind(this),this._popupCart=new e}f.prototype.open=function(){h(l),c.classList.add("popup"),n.destroy(!0,!0),n=s(t,".popup-preview__slider"),this._addEventListeners()},f.prototype._close=function(){_(l),c.classList.remove("popup"),this._removeEventListeners()},f.prototype._onToCartClick=function(){this._popupCart.open()},f.prototype._onPreviewClick=function(){_(d),_(r),h(a),i.destroy(!0,!0),i=s(t,".popup-fullview__slider")},f.prototype._onFullviewClick=function(){_(a),h(r),h(d),n.destroy(!0,!0),n=s(t,".popup-preview__slider")},f.prototype._onClosePreviewClick=function(){this._close(),this._removeEventListeners()},f.prototype._onCloseFullviewClick=function(){_(a),h(r),h(d)},f.prototype._addEventListeners=function(){r.addEventListener("click",this._onPreviewClick),a.addEventListener("click",this._onFullviewClick),v.addEventListener("click",this._onToCartClick),u.addEventListener("click",this._onClosePreviewClick),p.addEventListener("click",this._onCloseFullviewClick)},f.prototype._removeEventListeners=function(){r.removeEventListener("click",this._onPreviewClick),a.removeEventListener("click",this._onFullviewClick),v.removeEventListener("click",this._onToCartClick),u.removeEventListener("click",this._onClosePreviewClick),p.removeEventListener("click",this._onCloseFullviewClick)},window.PopupPreview=f}(window.PopupCart),function(){let e=document.querySelector(".js-scroll-down"),t=function(){event.preventDefault();let e=event.currentTarget.getAttribute("href"),t=e.substring(1,e.length);document.getElementById(t).scrollIntoView({block:"start",behavior:"smooth"})};e&&e.addEventListener("click",t)}(),new Swiper(".slider-main__slider.swiper-container",{fadeEffect:{crossFade:!0},virtualTranslate:!0,autoplay:{delay:2500,disableOnInteraction:!0},speed:1e3,slidersPerView:1,effect:"fade"}),function(e,t){const n=document.querySelector(".js--catalog"),i=new e,o=new t;n.addEventListener("click",(function(e){(e.target.parentNode.classList.contains("js--preview")||e.target.parentNode.parentNode.classList.contains("js--preview"))&&i.open(),e.target.classList.contains("js--to-cart")&&o.open()}))}(window.PopupPreview,window.PopupCart);